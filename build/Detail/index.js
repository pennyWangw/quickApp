(function(){
  
  var createPageHandler = function() {
    return !function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([,,,,,,,function(t,e,a){var n=a(8),i=a(9),o=a(10);$app_define$("@app-component/index",[],function(t,e,a){o(a,e,t),e.__esModule&&e.default&&(a.exports=e.default),a.exports.template=n,a.exports.style=i}),$app_bootstrap$("@app-component/index",{packagerVersion:"0.0.5"})},function(t,e){t.exports={type:"div",attr:{},classList:["demo-page"],children:[{type:"div",attr:{},classList:["top-title"],children:[{type:"picker",attr:{type:"date",value:function(){return this.startDay},selected:function(){return this.startDay},end:function(){return this.endDay}},classList:["picker"],events:{change:"chooseTime"}},{type:"image",attr:{src:"/Common/icon_expand.png"},classList:["arrow"]},{type:"text",attr:{value:"—"},classList:["margin-left-xx"]},{type:"picker",attr:{type:"date",value:function(){return this.endDay},start:function(){return this.startDay},end:function(){return this.$app.$def.dateFormat(new Date)},selected:function(){return this.endDay}},classList:["margin-left-xx"],events:{change:"chooseEndTime"}},{type:"image",attr:{src:"/Common/icon_expand.png"},classList:["arrow"]}]},{type:"div",attr:{},classList:["introduce"],children:[{type:"div",attr:{},children:[{type:"image",attr:{src:"/Common/many.png"},classList:["tag-icon"]},{type:"text",attr:{value:"量多"},classList:["texts"]}]},{type:"div",attr:{},children:[{type:"image",attr:{src:"/Common/normal.png"},classList:["tag-icon"]},{type:"text",attr:{value:"量正常"},classList:["texts"]}]},{type:"div",attr:{},children:[{type:"image",attr:{src:"/Common/less.png"},classList:["tag-icon"]},{type:"text",attr:{value:"量少"},classList:["texts"]}]},{type:"div",attr:{},children:[{type:"image",attr:{src:"/Common/temperature.png"},classList:["tag-icon"]},{type:"text",attr:{value:"温度"},classList:["texts"]}]},{type:"div",attr:{},children:[{type:"image",attr:{src:"/Common/sex.png"},classList:["tag-icon"]},{type:"text",attr:{value:"有性生活"},classList:["texts"]}]}]},{type:"list",attr:{id:"List"},classList:["content-page"],id:"List",events:{scrollbottom:"loadMoreData"},children:[{type:"block",attr:{},repeat:{exp:function(){return this.showData},key:"index",value:"content"},children:[{type:"list-item",attr:{type:"product"},children:[{type:"canvas",attr:{id:function(){return"newCanvas"+this.index}},classList:["new_canvas"],id:function(){return"newCanvas"+this.index}}]}]},{type:"list-item",attr:{type:"loadMore"},classList:["load-status"],children:[{type:"progress",attr:{type:"circular",show:function(){return this.hasMoreData}}},{type:"text",attr:{show:function(){return this.hasMoreData},value:"加载更多"}},{type:"text",attr:{show:function(){return!this.hasMoreData},value:"没有更多了~"}}]}]}]}},function(t,e){t.exports={".demo-page":{flexDirection:"column",justifyContent:"center",alignItems:"center"},".top-title":{position:"fixed",left:"0px",top:"0px",fontSize:"40px",textAlign:"center",lineHeight:"94px",height:"94px",background:'{"values":[{"type":"linearGradient","directions":["to","right"],"values":["#fc5e97","#fe98b7"]}]}',color:"#ffffff",width:"100%",flexDirection:"row",justifyContent:"center"},".margin-left-xx":{marginLeft:"80px",color:"#ffffff",fontSize:"30px"},".content-page":{width:"100%",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",flexDirection:"column"},".introduce":{width:"100%",backgroundColor:"#ffffff",alignSelf:"flex-end",marginTop:"94px",height:"90px",borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"2px",borderLeftWidth:"0px",borderStyle:"solid",borderTopColor:"rgb(235,235,235)",borderRightColor:"rgb(235,235,235)",borderBottomColor:"rgb(235,235,235)",borderLeftColor:"rgb(235,235,235)",alignItems:"center",justifyContent:"center"},".introduce div":{marginLeft:"30px",alignItems:"center",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"introduce"},{t:"d"},{t:"t",n:"div"}]}},".introduce div text":{color:"rgb(39,40,47)",fontSize:"24px",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"introduce"},{t:"d"},{t:"t",n:"div"},{t:"d"},{t:"t",n:"text"}]}},".tag-icon":{marginRight:"10px",width:"24px"},".texts":{fontSize:"36px"},".new_canvas":{width:"100%",height:"980px",backgroundColor:"#ffffff",marginBottom:"15px"},".arrow":{marginLeft:"16px",width:"16px",alignSelf:"center"},".picker":{color:"#ffffff",fontSize:"30px"},".load-status":{justifyContent:"center"}}},function(t,e,a){t.exports=function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=a(11),s=(i(r),n("@app-module/system.storage")),l=i(s);e.default={private:{startDay:"2018-09-28",endDay:"2018-10-28",dataContent:[],allData:[],drawComplete:!0,sectionLen:16,storageData:[],startIndex:0,endIndex:0,afterHide:!1,showData:[],hasMoreData:!0},getChooseDayStor:function(){var t=this;l.default.get({key:"penny.chooseDay",success:function(e){e&&(t.storageData=JSON.parse(e));var a=t.storageData.length;t.endIndex=a,a>2*t.sectionLen?t.startIndex=a-2*t.sectionLen:(t.startIndex=0,t.endIndex=a),t.allData=t.storageData;var n=t.storageData.slice(t.startIndex,t.endIndex);n[0]?(t.startDay=n[0].day,t.endDay=n[n.length-1].day):(t.endDay=t.$app.$def.dateFormat(new Date),t.startDay=t.endDay),t.initDataContent(n)},fail:function(e,a){t.allData=[]}})},initDataContent:function(t){this.dataContent=[];for(var e=0,a=t.length;e<a;e+=this.sectionLen)this.dataContent.push(t.slice(e,e+this.sectionLen));this.dataContent.length>2?(this.showData=this.dataContent.slice(0,2),this.hasMoreData=!0):(this.showData=this.dataContent,this.hasMoreData=!1)},chooseTime:function(t){var e=this;if(this.startDay=t.year+"-"+(t.month+1<10?"0"+(t.month+1):t.month+1)+"-"+(t.day<10?"0"+t.day:t.day),this.allData.length>0){var a=new Date(this.startDay).getTime();this.allData.some(function(t,n){var i=new Date(t.day).getTime(),o=a<i||a===i;return o&&(e.startIndex=n,e.anotherDraw(),e.anotherDraw()),o})}},chooseEndTime:function(t){var e=this;if(this.endDay=t.year+"-"+(t.month+1<10?"0"+(t.month+1):t.month+1)+"-"+(t.day<10?"0"+t.day:t.day),this.allData.length>0){var a=new Date(this.endDay).getTime(),n=new Date(this.allData[this.allData.length-1].day).getTime();a>n?(this.endIndex=this.allData.length,this.anotherDraw(),this.anotherDraw()):this.allData.some(function(t,n){var i=new Date(t.day).getTime(),o=a<i||a===i;return o&&(e.endIndex=n,e.anotherDraw(),e.anotherDraw()),o})}},onShow:function(){this.afterHide||this.dataDrawCanvas()},onHide:function(){this.afterHide=!0},dataDrawCanvas:function(){var t=this;this.$element("List").scrollTo({index:0}),this.drawComplete&&(this.drawComplete=!1,this.showData.forEach(function(e,a){t.drawCanvas(e,a)}))},anotherDraw:function(){var t=this;this.initDataContent(this.allData.slice(this.startIndex,this.endIndex)),setTimeout(function(){t.dataDrawCanvas()})},drawCanvas:function(t,e){var a=this,n=this.$element("newCanvas"+e),i=n.getContext("2d");i.clearRect(0,0,1e3,1e3),i.save(),i.beginPath();i.font="24px",i.textAlign="left",i.textBaseline="bottom",i.fillStyle="#3D3D3D",i.fillText("年:",12,35),i.fillText("月:",12,83),i.fillText("日:",12,123);var o=t[0].day.split("-");i.fillText(o[0]+"年",66,40),i.fillText(o[1]+"月",66,80),i.strokeStyle="#eaeaea",i.lineJoin="miter",i.lineWidth=2,i.moveTo(74,133),i.lineTo(74,800),i.moveTo(74,800),i.lineTo(720,800),i.closePath(),i.stroke();var r=667/15;i.beginPath(),i.font="22px";for(var s=0;s<16;s++){var l=800-r*s;i.fillStyle="rgba(39,40,47,0.6)";var d=void 0;0===s?(d="<36.0",i.fillText(d,0,l+10),i.fillStyle="rgba(205,231,253,0.9)",i.fillRect(75,l-r,646,r),i.fillStyle="rgba(39,40,47,0.6)"):14===s?(d=">37.2",i.fillText(d,0,l+10),i.fillStyle="rgba(255,220,233,0.9)",i.fillRect(75,l,646,r),i.fillStyle="rgba(39,40,47,0.6)"):s<14&&(d=parseFloat(36+.1*(s-1)).toFixed(1),i.fillText(d,12,l+10)),0!==s&&(i.moveTo(75,l),i.lineTo(720,l))}i.stroke(),i.closePath();var c=646/this.sectionLen;i.beginPath();for(var p=0;p<this.sectionLen;p++){var f=74+c*p+c;i.moveTo(f,133),i.lineTo(f,799)}i.strokeStyle="#eaeaea",i.stroke(),i.closePath();var h=void 0,u=void 0;t.forEach(function(e,n){var o=820;i.fillStyle="#3D3D3D";var s=void 0,l=74+c*n+.5*c;e.tempValue?(s=e.tempValue>35.99&&e.tempValue<37.21?800-(e.tempValue-36)/.1*r-r:e.tempValue<36?800:177.46666666666786,i.beginPath(),u?a.getDays(e.day,t[n-1].day)>1?i.moveTo(l,s):i.moveTo(h,u):i.moveTo(l,s),i.lineTo(l,s),i.strokeStyle="rgb(252,97,153)",i.lineWidth=4,i.stroke(),i.closePath(),i.beginPath(),e.sexLife?(a.drowImg(i,l,s,"/Common/icon_sex.png"),"请选择时间"!==e.sexTime&&(i.font="14px",i.fillText(e.sexTime,l-16,o),o+=16)):a.drowImg(i,l,s,"/Common/icon_temperature.png"),i.stroke()):(i.font="14px",e.tempValue&&(e.tempValue<36||e.tempValue>37.2)&&(i.fillText(e.tempValue,l-16,o),o+=16),e.sexLife&&(a.drowImg(i,l,o,"/Common/icon_sex.png"),o+=25,"请选择时间"!==e.sexTime&&(i.fillText(e.sexTime,l-14,o),o+=14)));var d=e.day.split("-");if(i.font="22px",i.fillText(d[2],l-12,120),h){var p=t[n-1].day.split("-");p[1]!==d[1]&&(i.font="24px",i.fillText(d[1]+"月",l-12,80)),d[0]!==p[0]&&(i.font="24px",i.fillText(d[0]+"年",l-12,40))}i.font="17px";for(var f=0;f<e.otherText.length;f++){var m=e.otherText[f];0===f&&(o+=3),i.fillText(m,l-8,o+18*f)}if(e.isPeriod){var x=133+r/2;"量少"===e.periodNum?a.drowImg(i,l,x,"/Common/icon_less.png"):"量多"===e.periodNum?a.drowImg(i,l,x,"/Common/icon_many.png"):a.drowImg(i,l,x,"/Common/icon_normal.png")}h=l,u=s}),i.closePath(),e===this.showData.length-1&&(this.drawComplete=!0)},drowImg:function(t,e,a,n){var i=new Image;i.src=n,i.onload=function(){t.drawImage(i,e-10,a-10,20,20)},i.onerror=function(){console.log("图片加载失败")}},getDays:function(t,e){var a=new Date(t),n=new Date(e);return parseInt(Math.abs(a-n)/1e3/60/60/24)},onMenuPress:function(){this.$app.$def.showMenu()},onInit:function(){this.getChooseDayStor()},loadMoreData:function(){var t=this;if(this.showData.length<this.dataContent.length){var e=this.dataContent[this.showData.length];this.showData.push(e),setTimeout(function(){t.drawCanvas(e,t.showData.length-1)},100)}else this.hasMoreData=!1}};var d=e.default||t.exports,c=["public","protected","private"];if(d.data&&c.some(function(t){return d[t]}))throw new Error('页面VM对象中的属性data不可与"'+c.join(",")+'"同时存在，请使用private替换data名称');d.data||(d.data={},d._descriptor={},c.forEach(function(t){var e=o(d[t]);if("object"===e){d.data=Object.assign(d.data,d[t]);for(var a in d[t])d._descriptor[a]={access:t}}else"function"===e&&console.warn("页面VM对象中的属性"+t+"的值不能是函数，请使用对象")}))}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{day:"2018-09-28",tempValue:36.1,sexLife:!1,sexTime:"请选择时间",isPeriod:!1,periodNum:"",otherText:""},{day:"2018-09-29",tempValue:36.5,sexLife:!1,sexTime:"请选择时间",isPeriod:!1,periodNum:"",otherText:""},{day:"2018-09-30",tempValue:36.6,sexLife:!0,sexTime:"06:00",isPeriod:!1,periodNum:"",otherText:""},{day:"2018-10-01",tempValue:36.6,sexLife:!0,sexTime:"21:00",isPeriod:!1,periodNum:"",otherText:"52453754"},{day:"2018-10-02",tempValue:36.8,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量少",otherText:"腹痛"},{day:"2018-10-03",tempValue:36.9,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量正常",otherText:"腹痛"},{day:"2018-10-04",tempValue:36.2,sexLife:!0,sexTime:"请选择时间",isPeriod:!0,periodNum:"量正常",otherText:"腹痛"},{day:"2018-10-05",tempValue:36.3,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量多",otherText:"腹痛"},{day:"2018-10-06",tempValue:36.5,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量正常",otherText:"腹痛"},{day:"2018-10-07",tempValue:36.2,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量少",otherText:"腹痛"}]}]);
  };
  if (typeof window === "undefined") {
    return createPageHandler();
  }
  else {
    window.createPageHandler = createPageHandler
  }
})();