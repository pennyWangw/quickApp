(function(){
  
  var createPageHandler = function() {
    return !function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([,,,,,,,function(t,e,a){var n=a(8),i=a(9),o=a(10);$app_define$("@app-component/index",[],function(t,e,a){o(a,e,t),e.__esModule&&e.default&&(a.exports=e.default),a.exports.template=n,a.exports.style=i}),$app_bootstrap$("@app-component/index",{packagerVersion:"0.0.5"})},function(t,e){t.exports={type:"div",attr:{},classList:["demo-page"],children:[{type:"div",attr:{},classList:["top-title"],children:[{type:"picker",attr:{type:"date",value:function(){return this.startDay},selected:function(){return this.startDay},end:function(){return this.endDay}},classList:["picker"],events:{change:"chooseTime"}},{type:"text",attr:{value:">"},classList:["arrow"]},{type:"text",attr:{value:"—"},classList:["margin-left-xx"]},{type:"picker",attr:{type:"date",value:function(){return this.endDay},start:function(){return this.startDay},end:function(){return this.$app.$def.dateFormat(new Date)},selected:function(){return this.endDay}},classList:["margin-left-xx"],events:{change:"chooseEndTime"}},{type:"text",attr:{value:">"},classList:["arrow"]}]},{type:"div",attr:{},classList:["introduce"],children:[{type:"div",attr:{},children:[{type:"text",attr:{value:"x: "}},{type:"text",attr:{value:"量多"},classList:["texts"]}]},{type:"div",attr:{},children:[{type:"text",attr:{value:"x: "}},{type:"text",attr:{value:"量正常"},classList:["texts"]}]},{type:"div",attr:{},children:[{type:"text",attr:{value:"、: "}},{type:"text",attr:{value:"量少"},classList:["texts"]}]},{type:"div",attr:{},children:[{type:"text",attr:{value:"."}},{type:"text",attr:{value:": "}},{type:"text",attr:{value:"温度"},classList:["texts"]}]},{type:"div",attr:{},children:[{type:"text",attr:{value:"."},classList:["sex"]},{type:"text",attr:{value:": "}},{type:"text",attr:{value:"有性生活"},classList:["texts"]}]}]},{type:"div",attr:{},classList:["content-page"],children:[{type:"block",attr:{},repeat:{exp:function(){return this.dataContent},key:"index",value:"content"},children:[{type:"canvas",attr:{id:function(){return"newCanvas"+this.index}},classList:["new_canvas"],id:function(){return"newCanvas"+this.index}}]}]}]}},function(t,e){t.exports={".demo-page":{flexDirection:"column",justifyContent:"center",alignItems:"center"},".top-title":{position:"fixed",left:"0px",top:"0px",fontSize:"40px",textAlign:"center",lineHeight:"100px",height:"100px",background:'{"values":[{"type":"linearGradient","directions":["to","bottom"],"values":["#FFAEB9","#ffffff"]}]}',color:"#2E2E2E",width:"100%",flexDirection:"row",justifyContent:"center"},".margin-left-xx":{marginLeft:"80px"},".content-page":{marginTop:"150px",width:"100%",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",flexDirection:"column",overflow:"auto"},".introduce":{width:"100%",backgroundColor:"#ffffff",alignSelf:"flex-end",alignItems:"center",justifyContent:"center",position:"fixed",left:"0px",top:"100px"},".introduce div":{marginLeft:"30px",alignItems:"center",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"introduce"},{t:"d"},{t:"t",n:"div"}]}},".introduce div text":{color:"#8B1A1A",_meta:{ruleDef:[{t:"a",n:"class",i:!1,a:"element",v:"introduce"},{t:"d"},{t:"t",n:"div"},{t:"d"},{t:"t",n:"text"}]}},".sex":{fontSize:"50px",borderTopWidth:"2px",borderRightWidth:"2px",borderBottomWidth:"2px",borderLeftWidth:"2px",borderStyle:"solid",borderTopColor:"#8B1A1A",borderRightColor:"#8B1A1A",borderBottomColor:"#8B1A1A",borderLeftColor:"#8B1A1A",height:"20px",width:"20px",textAlign:"center",alignItems:"center",borderRadius:"10px",justifyContent:"center"},".texts":{fontSize:"24px"},".new_canvas":{width:"100%",height:"900px",backgroundColor:"#ffffff"},".arrow":{transform:'{"rotate":"90deg"}',color:"#8B1A1A",marginLeft:"5px",marginTop:"5px",fontSize:"35px"}}},function(t,e,a){t.exports=function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=a(11),s=(i(r),n("@app-module/system.storage")),l=i(s);e.default={private:{startDay:"2018-09-28",endDay:"2018-10-28",dataContent:[],allData:[],drawComplete:!1,sectionLen:20,storageData:[],startIndex:0,endIndex:0},getChooseDayStor:function(){var t=this;l.default.get({key:"penny.chooseDay",success:function(e){e&&(t.storageData=JSON.parse(e));var a=t.storageData.length;t.endIndex=a,a>2*t.sectionLen?(t.startIndex=a-2*t.sectionLen,t.allData=t.storageData.slice(t.startIndex,t.endIndex)):(t.startIndex=0,t.endIndex=a,t.allData=t.storageData),t.allData[0]?(t.startDay=t.allData[0].day,t.endDay=t.allData[t.allData.length-1].day):t.endDay=t.$app.$def.dateFormat(new Date),t.initDataContent(t.allData)},fail:function(e,a){t.allData=[]}})},initDataContent:function(t){this.dataContent=[];for(var e=0,a=t.length;e<a;e+=this.sectionLen)this.dataContent.push(t.slice(e,e+this.sectionLen))},chooseTime:function(t){var e=this;if(this.startDay=t.year+"-"+(t.month+1<10?"0"+(t.month+1):t.month+1)+"-"+(t.day<10?"0"+t.day:t.day),this.allData.length>0){var a=new Date(this.startDay).getTime();this.allData.some(function(t,n){var i=new Date(t.day).getTime(),o=a<i||a===i;return o&&(e.startIndex=n,e.anotherDraw(),e.anotherDraw()),o})}},chooseEndTime:function(t){var e=this;if(this.endDay=t.year+"-"+(t.month+1<10?"0"+(t.month+1):t.month+1)+"-"+(t.day<10?"0"+t.day:t.day),this.allData.length>0){var a=new Date(this.endDay).getTime(),n=new Date(this.allData[this.allData.length-1].day).getTime();a>n?(this.endIndex=this.allData.length,this.anotherDraw()):this.allData.some(function(t,n){var i=new Date(t.day).getTime(),o=a<i||a===i;return o&&(e.endIndex=n+1,e.anotherDraw(),e.anotherDraw()),o})}},onShow:function(){this.dataDrawCanvas()},dataDrawCanvas:function(){var t=this;this.drawComplete||this.dataContent.forEach(function(e,a){t.drawCanvas(e,a)})},anotherDraw:function(){this.initDataContent(this.allData.slice(this.startIndex,this.endIndex)),this.drawComplete=!1,this.dataDrawCanvas()},drawCanvas:function(t,e){var a=this,n=this.$element("newCanvas"+e),i=n.getContext("2d");i.clearRect(0,0,1e3,1e3),i.beginPath();i.lineJoin="miter",i.moveTo(50,100),i.lineTo(50,620),i.moveTo(50,620),i.lineTo(720,620),i.closePath(),i.stroke(),i.font="21px",i.textAlign="left",i.textBaseline="bottom",i.fillStyle="#3D3D3D",i.fillText("年:",0,30),i.fillText("月:",0,68),i.fillText("日:",0,97);var o=t[0].day.split("-");i.fillText(o[0],54,35),i.fillText(o[1],54,65);i.beginPath();for(var r=0;r<13;r++){var s=parseFloat(36+.1*r).toFixed(1),l=620-40*r;i.fillText(s,0,l),0!==r&&(i.moveTo(51,l),i.lineTo(720,l))}i.strokeStyle="#eaeaea",i.stroke(),i.closePath();var d=670/(this.sectionLen+1);i.beginPath();for(var p=0;p<this.sectionLen;p++){var f=50+d*p+d;i.moveTo(f,100),i.lineTo(f,619)}i.strokeStyle="#eaeaea",i.stroke(),i.closePath();var c=void 0,x=void 0;t.forEach(function(e,n){var o=640;i.fillStyle="#3D3D3D";var r=void 0,s=50+d*n+.5*d;e.tempValue&&e.tempValue>35.99&&e.tempValue<37.21?(r=620-(e.tempValue-36)/.1*40,i.beginPath(),x?a.getDays(e.day,t[n-1].day)>1?i.moveTo(s,r):i.moveTo(c,x):i.moveTo(s,r),i.lineTo(s,r),i.strokeStyle="#8B5742",i.stroke(),i.closePath(),i.arc(s,r,4,0,360,!0),i.fill(),i.closePath(),i.beginPath(),e.sexLife&&(i.arc(s,r,8,0,370,!0),"请选择时间"!==e.sexTime&&(i.font="12px",i.fillText(e.sexTime,s-14,o),o+=16)),i.stroke()):(i.font="12px",e.tempValue&&(e.tempValue<36||e.tempValue>37.2)&&(i.fillText(e.tempValue,s-12,o),o+=12),e.sexLife&&(i.strokeStyle="#8B5742",i.beginPath(),i.arc(s,o,4,0,360,!0),i.fill(),i.closePath(),i.arc(s,o,8,0,360,!0),i.stroke(),o+=25,"请选择时间"!==e.sexTime&&(i.fillText(e.sexTime,s-14,o),o+=14)));var l=e.day.split("-");if(i.font="14px",0!==n?i.fillText(l[2],s-6,95):i.fillText(l[2],s-6,91),c){var p=t[n-1].day.split("-");p[1]!==l[1]&&(i.font="21px",i.fillText(l[1],s-12,65)),l[0]!==p[0]&&i.fillText(l[0],s-12,35)}i.font="14px";for(var f=0;f<e.otherText.length;f++){var u=e.otherText[f];i.fillText(u,s-8,o+14*f)}if(i.font="20px",i.fillStyle="#8B2500",e.isPeriod){"量少"===e.periodNum?(i.font="30px",i.fillText("、",s-6,130)):"量多"===e.periodNum?(i.fillText("x",s-6,123),i.fillText("x",s-6,137)):i.fillText("x",s-6,130)}c=s,x=r}),i.closePath(),e===this.dataContent.length-1&&(this.drawComplete=!0)},getDays:function(t,e){var a=new Date(t),n=new Date(e);return parseInt(Math.abs(a-n)/1e3/60/60/24)},onMenuPress:function(){this.$app.$def.showMenu()},onInit:function(){this.getChooseDayStor()}};var d=e.default||t.exports,p=["public","protected","private"];if(d.data&&p.some(function(t){return d[t]}))throw new Error('页面VM对象中的属性data不可与"'+p.join(",")+'"同时存在，请使用private替换data名称');d.data||(d.data={},d._descriptor={},p.forEach(function(t){var e=o(d[t]);if("object"===e){d.data=Object.assign(d.data,d[t]);for(var a in d[t])d._descriptor[a]={access:t}}else"function"===e&&console.warn("页面VM对象中的属性"+t+"的值不能是函数，请使用对象")}))}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{day:"2018-09-28",tempValue:36.1,sexLife:!1,sexTime:"请选择时间",isPeriod:!1,periodNum:"",otherText:""},{day:"2018-09-29",tempValue:36.5,sexLife:!1,sexTime:"请选择时间",isPeriod:!1,periodNum:"",otherText:""},{day:"2018-09-30",tempValue:36.6,sexLife:!0,sexTime:"06:00",isPeriod:!1,periodNum:"",otherText:""},{day:"2018-10-01",tempValue:36.6,sexLife:!0,sexTime:"21:00",isPeriod:!1,periodNum:"",otherText:"52453754"},{day:"2018-10-02",tempValue:36.8,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量少",otherText:"腹痛"},{day:"2018-10-03",tempValue:36.9,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量正常",otherText:"腹痛"},{day:"2018-10-04",tempValue:36.2,sexLife:!0,sexTime:"请选择时间",isPeriod:!0,periodNum:"量正常",otherText:"腹痛"},{day:"2018-10-05",tempValue:36.3,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量多",otherText:"腹痛"},{day:"2018-10-06",tempValue:36.5,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量正常",otherText:"腹痛"},{day:"2018-10-07",tempValue:36.2,sexLife:!1,sexTime:"请选择时间",isPeriod:!0,periodNum:"量少",otherText:"腹痛"}]}]);
  };
  if (typeof window === "undefined") {
    return createPageHandler();
  }
  else {
    window.createPageHandler = createPageHandler
  }
})();